var api_fileuploader;$(function(){"use strict";$(".table-dynamic-user").DataTable({processing:!0,ajax:"../../../../data/user.json",responsive:!0,scrollX:!0,language:{searchPlaceholder:"Search...",sSearch:""},columns:[{data:"id"},{data:"name"},{data:"phone"},{data:"role"},{data:null}],columnDefs:[{targets:[0,2],class:"text-center"},{orderable:!1,targets:[-1],class:"text-center",render:function(e,a,i,t){return' <span class="btn-action table-action-edit cursor-pointer tx-success" data-id="'+e.id+'"><i class="fa fa-edit"></i></span> <span class="btn-action table-action-delete cursor-pointer tx-danger" data-id="'+e.id+'"><i class="fa fa-trash"></i></span> <span class="btn-action table-action-view cursor-pointer tx-info" data-id="'+e.id+'"><i class="fa fa-eye"></i></span>'}}]});$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$(document).on("click",".table-dynamic-user .table-action-view",function(e){e.preventDefault(),$("#modal-log #ttlModal").html("List activities");$(this).attr("data-id");$.fn.DataTable.isDataTable(".table-dynamic-log")&&$(".table-dynamic-log").DataTable().destroy(),$(".table-dynamic-log").DataTable({processing:!0,ajax:"../../../../data/activity.json",responsive:!0,scrollX:!0,language:{searchPlaceholder:"Search...",sSearch:""},columns:[{data:"id"},{data:"date"},{data:"system"},{data:"action"},{data:"status"}],columnDefs:[{targets:[0,1,-1],class:"text-center"}]}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#modal-log").modal("show")}),$(document).on("click","#addUser",function(e){e.preventDefault(),$("#modal-user #ttlModal").html("Add User"),$("#modal-user").modal("show")}),$(document).on("click",".table-dynamic-user .table-action-delete",function(e){e.preventDefault();var a=$(this).attr("data-id");$("#confirm-delete-modal #id").val(a),$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1})}),$("#confirm-delete-modal").on("click","#confirm-delete",function(e){$("#confirm-delete-modal #id").val()}),$(document).on("click","#btnUser",function(e){e.preventDefault(),$("#UserForm").submit()}),$("#UserForm").on("submit",function(e){e.preventDefault();var a=$(this);a.parsley().validate(),a.parsley().isValid()&&alert("valid")}),$("#role").select2({minimumResultsForSearch:1/0}).on("select2:select",function(e){"1"==e.params.data.id?$("#areaMachine").prop("multiple",!1).attr("name","areaMachine").select2({minimumResultsForSearch:1/0}):$("#areaMachine").prop("multiple",!0).attr("name","areaMachine[]").select2()}),$("#areaMachine").select2(),$(".datepicker").mask("99/99/9999"),$("input[name='pass']:radio").change(function(){"1"==$(this).val()?$(".block-pass-word").addClass("d-none"):$(".block-pass-word").removeClass("d-none")}),$(document).on("click","#importUser",function(e){e.preventDefault(),$("#modal-import-user #ttlModal").html("Import User"),$("#modal-import-user").modal("show")}),void 0!==api_fileuploader&&(api_fileuploader.reset(),api_fileuploader.destroy()),fileuploader()});var fileuploader=function(){0<$("input.picupload").length&&($("input.picupload").fileuploader({limit:1,extensions:["jpg","jpeg","png","gif"],changeInput:" ",theme:"thumbnails",enableApi:!0,addMore:!0,thumbnails:{box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"><li class="fileuploader-thumbnails-input"><div class="fileuploader-thumbnails-input-inner"><i>+</i></div></li></ul></div>',item:'<li class="fileuploader-item file-has-popup"><div class="fileuploader-item-inner"><div class="type-holder">${extension}</div><div class="actions-holder"><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div><div class="thumbnail-holder">${image}<span class="fileuploader-action-popup"></span></div><div class="content-holder"><h5>${name}</h5></div><div class="progress-holder">${progressBar}</div></div></li>',item2:'<li class="fileuploader-item file-has-popup"><div class="fileuploader-item-inner"><div class="type-holder">${extension}</div><div class="actions-holder"><a href="${file}" class="fileuploader-action fileuploader-action-download" title="${captions.download}" download><i></i></a><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div><div class="thumbnail-holder">${image}<span class="fileuploader-action-popup"></span></div><div class="content-holder"><h5>${name}</h5></div><div class="progress-holder">${progressBar}</div></div></li>',startImageRenderer:!0,canvasImage:!0,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",remove:".fileuploader-action-remove"},onImageLoaded:function(e){},onItemShow:function(e,a,i,t,l){var o=a.find(".fileuploader-thumbnails-input"),n=$.fileuploader.getInstance(l.get(0));o.insertAfter(e.html)[(n.getOptions().limit&&n.getAppendedFiles().length||n.getOptions().limit&&n.getChoosedFiles().length)>=n.getOptions().limit?"hide":"show"](),"image"==e.format&&e.html.find(".fileuploader-item-icon").hide()},onItemRemove:function(e,a,i,t,l){var o=a.find(".fileuploader-thumbnails-input"),n=$.fileuploader.getInstance(l.get(0));e.children().animate({opacity:0},200,function(){setTimeout(function(){e.remove(),n.getFiles().length-1<n.getOptions().limit&&o.show()},100)})}},dragDrop:{container:".fileuploader-thumbnails-input"},editor:{cropper:{ratio:"1:1",minWidth:128,minHeight:128,showGrid:!0}},afterRender:function(e,a,i,t){var l=e.find(".fileuploader-thumbnails-input"),o=$.fileuploader.getInstance(t.get(0));l.on("click",function(){o.open()})}}),api_fileuploader=$.fileuploader.getInstance("input.picupload"))};