var api_fileuploader;$(function(){"use strict";$(".table-dynamic-notify-system").DataTable({processing:!0,ajax:"../../../../data/notify_system.json",responsive:!0,scrollX:!0,language:{searchPlaceholder:"Search...",sSearch:""},columns:[{data:"id"},{data:"area"},{data:"priority"},{data:"status"},{data:"time_created"},{data:"time_done"},{data:null},{data:null}],columnDefs:[{targets:[0,2,3,4,5],class:"text-center"},{orderable:!1,targets:[-2],class:"text-center",render:function(e,i,t,a){return'<label class="ckbox d-inline-block"><input type="checkbox" name="all" class="all" data-id="'+e.add+'"><span></span></label>'}},{orderable:!1,targets:[-1],class:"text-center",render:function(e,i,t,a){return' <span class="btn-action table-action-view cursor-pointer tx-info" data-id="'+e.id+'"><i class="fa fa-eye"></i></span>'}},{targets:[3],class:"text-center",render:function(e,i,t,a){switch(e){case 0:return'<span class="badge badge-pill badge-danger">No audit</span>';default:return'<span class="badge badge-pill badge-danger">Done audit</span>'}}}]});$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#priority, #area-code, #evaluation, #fail_mode, #status, #category-code, #location-id, #section-id, #line-id").select2({minimumResultsForSearch:1/0}),0<$("textarea").length&&$("textarea").summernote({height:300,tooltip:!1}),$(".datepicker").mask("99/99/9999"),$(".fc-datepicker").datepicker({showOtherMonths:!0,selectOtherMonths:!0}),$("#timeAudit").timepicker({scrollDefault:"now"}),$(document).on("click",".table-dynamic-notify-system .table-action-delete",function(e){e.preventDefault();var i=$(this).attr("data-id");$("#confirm-delete-modal #id").val(i),$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1})}),$("#confirm-delete-modal").on("click","#confirm-delete",function(e){$("#confirm-delete-modal #id").val()}),$(document).on("click","#addNotifySystem",function(e){e.preventDefault(),$("#modal-notify-system #ttlModal").html("Add notification schedule"),$("#modal-notify-system").modal("show")}),$(document).on("click",".table-dynamic-notify-system .table-action-view",function(e){e.preventDefault();$(this).attr("data-id");$("#modal-view-notify-system #ttlModal").html("Info notification schedule"),$("#modal-view-notify-system").modal("show")}),$(document).on("click","#btnNotifySystem",function(e){e.preventDefault(),$("#NotifySystemForm").submit()}),$("#NotifySystemForm").on("submit",function(e){e.preventDefault();var i=$(this);i.parsley().validate(),i.parsley().isValid()&&alert("valid")}),void 0!==api_fileuploader&&(api_fileuploader.reset(),api_fileuploader.destroy()),fileuploader(),0<$('input[type="radio"]').length&&$('input[type="radio"]').iCheck({radioClass:"iradio_minimal-blue"})});var fileuploader=function(){0<$("input.picupload").length&&($("input.picupload").fileuploader({limit:3,extensions:["jpg","jpeg","png","gif"],changeInput:" ",theme:"thumbnails",enableApi:!0,addMore:!0,thumbnails:{box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"><li class="fileuploader-thumbnails-input"><div class="fileuploader-thumbnails-input-inner"><i>+</i></div></li></ul></div>',item:'<li class="fileuploader-item file-has-popup"><div class="fileuploader-item-inner"><div class="type-holder">${extension}</div><div class="actions-holder"><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div><div class="thumbnail-holder">${image}<span class="fileuploader-action-popup"></span></div><div class="content-holder"><h5>${name}</h5></div><div class="progress-holder">${progressBar}</div></div></li>',item2:'<li class="fileuploader-item file-has-popup"><div class="fileuploader-item-inner"><div class="type-holder">${extension}</div><div class="actions-holder"><a href="${file}" class="fileuploader-action fileuploader-action-download" title="${captions.download}" download><i></i></a><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div><div class="thumbnail-holder">${image}<span class="fileuploader-action-popup"></span></div><div class="content-holder"><h5>${name}</h5></div><div class="progress-holder">${progressBar}</div></div></li>',startImageRenderer:!0,canvasImage:!0,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",remove:".fileuploader-action-remove"},onImageLoaded:function(e){},onItemShow:function(e,i,t,a,l){var o=i.find(".fileuploader-thumbnails-input"),n=$.fileuploader.getInstance(l.get(0));o.insertAfter(e.html)[(n.getOptions().limit&&n.getAppendedFiles().length||n.getOptions().limit&&n.getChoosedFiles().length)>=n.getOptions().limit?"hide":"show"](),"image"==e.format&&e.html.find(".fileuploader-item-icon").hide()},onItemRemove:function(e,i,t,a,l){var o=i.find(".fileuploader-thumbnails-input"),n=$.fileuploader.getInstance(l.get(0));e.children().animate({opacity:0},200,function(){setTimeout(function(){e.remove(),n.getFiles().length-1<n.getOptions().limit&&o.show()},100)})}},dragDrop:{container:".fileuploader-thumbnails-input"},editor:{cropper:{ratio:"1:1",minWidth:128,minHeight:128,showGrid:!0}},afterRender:function(e,i,t,a){var l=e.find(".fileuploader-thumbnails-input"),o=$.fileuploader.getInstance(a.get(0));l.on("click",function(){o.open()})}}),api_fileuploader=$.fileuploader.getInstance("input.picupload"))};